const express=require("express")
const app=express()

//routes

const uploadRoute=require("./routes/upload")
const mergeRouter=require("./routes/mergs")


app.use(express.json())


app.use("/upload",uploadRoute)
app.use("/merge",mergeRouter)

let server=app.listen(3000,(error)=>{
    if(!error){
        console.log(`Server is listening in port ${server.address().port}`)
    }else{
        console.log(`Server Error ${server.address.port() } not Found`)
    }
})const express=require("express")
const multer =require("multer");
const route=express.Router();

//multer
const upload = multer({
    storage:multer.diskStorage({
        destination:function(req,file,cb){
            cb(null,"uploads")
        },
        filename:function(req,file,cb){
            cb(null,file.originalname)
        }
    })
}).single("user_file");

route
    .post("/",upload,
            (req,res)=>{
            res.send("working")
    })

    module.exports=route;